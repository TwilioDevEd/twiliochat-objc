<!DOCTYPE html><html><head><title>Twilio Chat</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="//twilio.com/bundles/marketing/img/favicons/favicon.ico"><link rel="apple-touch-icon" href="//twilio.com/bundles/marketing/img/favicons/favicon_57.png"><link rel="apple-touch-icon" sizes="72x72" href="//twilio.com/bundles/marketing/img/favicons/favicon_72.png"><link rel="apple-touch-icon" sizes="114x114" href="//twilio.com/bundles/marketing/img/favicons/favicon_114.png"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div id="viewsaurus" data-title="Twilio Chat"><div class="saurus-panes"><div class="saurus-prose"><div class="saurus-prose-header"><div class="title-outer"><span class="step-title">Twilio Chat</span></div></div><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw fa-list"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>Learn to implement a simple chat application using Twilio IP Messaging Client</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Twilio Chat Objective-C" class="chapter"><div data-title="Introduction" data-file="twiliochat/AppDelegate.m" class="step"><h2 id="introduction">Introduction</h2>
<p>Ready to implement a chat application using Twilio IP Messaging Client?
Here is how it works at a high level:</p>
<ol>
<li><p><a href="//www.twilio.com/ip-messaging">Twilio IP Messaging</a> is the core product
we&#39;ll be using to handle all the chat functionality.</p>
</li>
<li><p>We use a server side app to generate <a href="//www.twilio.com/docs/api/ip-messaging/guides/identity">user access
tokens</a> which contains
all your Twilio account information. The IP Messaging Client uses this token
to connect with the API</p>
</li>
<li><p><a href="//media.twiliocdn.com/sdk/ios/common/releases/0.2.0/docs/">Twilio Common</a>
is the part of the SDK than handles access tokens and even refreshes them upon token
expiration.</p>
</li>
</ol>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="//www.twilio.com/docs/api/ip-messaging">IP Messaging API</a></li>
<li><a href="//www.twilio.com/docs/api/ip-messaging/guides/quickstart-ios">iOS QuickStart</a></li>
<li><a href="//www.twilio.com/docs/api/ip-messaging/guides/channels">Channels and Messages</a></li>
<li><a href="//www.twilio.com/docs/api/ip-messaging/guides/channels">User Identity &amp; Access Tokens</a></li>
<li><a href="//media.twiliocdn.com/sdk/rtc/ios/ip-messaging/releases/0.13.5.b191-9dfea4a/docs/">Twilio IP Messaging Client Reference</a></li>
<li><a href="//media.twiliocdn.com/sdk/ios/common/releases/0.2.0/docs/">Twilio Common Reference</a></li>
</ul>
</div><div data-title="Initializing the Client" data-file="twiliochat/IPMessagingManager.m" data-highlight="84-130" class="step"><h2 id="initializing-the-ip-messaging-client">Initializing the IP Messaging Client</h2>
<p>The only thing you need to create a client, is an access token. This token
holds information about your Twilio account and IP Messaging API keys. We have created a web
version of Twilio chat in different languages. You can use any of these to generate the token:</p>
<ul>
<li><a href="//github.com/TwilioDevEd/twiliochat-laravel">PHP - Laravel</a></li>
<li><a href="//github.com/TwilioDevEd/twiliochat-csharp">C# - .NET MVC</a></li>
<li><a href="//github.com/TwilioDevEd/twiliochat-servlets">Java - Servlets</a></li>
<li><a href="//github.com/TwilioDevEd/twiliochat-node">JS - Node</a></li>
</ul>
<p>We use <a href="//github.com/AFNetworking/AFNetworking">AFNetworking</a>
to make a request to our server and get the access token.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="//github.com/AFNetworking/AFNetworking#creating-a-data-task">AFNetworking Data Task</a></li>
</ul>
</div><div data-title="Getting the Channel List" data-file="twiliochat/ChannelManager.m" data-highlight="81-119" class="step"><h2 id="getting-the-channel-list">Getting the Channel List</h2>
<p>Our <code>ChannelManager</code> class takes care of everything related to channels.
The first thing we need to do when the class is initialized, is to store
a list of channels of type <code>TWMChannelList</code> that we get by calling the method <code>channelsListWithCompletion</code>
from the IP Messaging Client.</p>
<p>Once we have a <code>TWMChannelList</code> object, we can fetch the actual channels using the
<code>channelsList&#39;s</code> method <code>loadChannelsWithCompletion</code>. Once that operation
finishes successfully, call the method <code>allObjects</code> on the same object, to
get an array of channels.</p>
</div><div data-title="Listen to Client Events" data-file="twiliochat/ChannelManager.m" data-highlight="160-179" class="step"><h2 id="listen-to-client-events">Listen to Client Events</h2>
<p>The IP Messaging Client will trigger events such as <code>channelAdded</code> or <code>channelDeleted</code>.
In our application, given the event that a channel is deleted or created, we&#39;ll reload the
channel list in the reveal controller. If a channel is deleted and we were currently joined to that
channel, the application will automatically join the general channel.</p>
<p><code>ChannelManager</code> is our <code>TwilioIPMessagingClientDelegate</code>. In this class we
implement the delegate methods, but we also allow another class to be a delegate of ChannelManager,
so this class can listen to the events too (MainChatViewController) in this case.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="//media.twiliocdn.com/sdk/rtc/ios/ip-messaging/releases/0.13.5.b191-9dfea4a/docs/Protocols/TwilioIPMessagingClientDelegate.html">TwilioIPMessagingClientDelegate Protocol Reference</a></li>
</ul>
</div><div data-title="Join the General Channel" data-file="twiliochat/ChannelManager.m" data-highlight="33-77" class="step"><h2 id="join-the-general-channel">Join the General Channel</h2>
<p>This application will try to join a channel called &quot;General Channel&quot; when it starts.
If the channel doesn&#39;t exist, we&#39;ll create one with that name. The scope of
this example application will show you how to work only with public channels,
but the IP Messaging client allows you to create private channels and handle
invitations.</p>
<p>Once you have joined a channel, you can register a class as the <code>TWMChannelDelegate</code>
so you can start listening to events such as <code>messageAdded</code> or <code>memberJoined</code>.
We&#39;ll show you how to do this in the next step.</p>
</div><div data-title="Listen to Channel Events" data-file="twiliochat/MainChatViewController.m" data-highlight="228-234, 246-264" class="step"><h2 id="listen-to-channel-events">Listen to Channel Events</h2>
<p>We registered <code>MainChatViewController</code> as the <code>TWMChannelDelegate</code>, and here
we implemented the following methods that listen to channel events:</p>
<ul>
<li><code>messageAdded</code>: When someone sends a message to the channel you are connected to.</li>
<li><code>channelHistoryLoaded</code>: When all the messages from one channel have been loaded.</li>
<li><code>memberJoined</code>: When someone joins the channel.</li>
<li><code>memberLeft</code>: When someone leaves the channel.</li>
</ul>
<p>As you may have noticed, each one of these methods include useful objects
as parameters, such as the actual message that was added to the channel.</p>
</div><div data-title="Joining Other Channels" data-file="twiliochat/MainChatViewController.m" data-highlight="90-115" class="step"><h2 id="joining-other-channels">Joining Other Channels</h2>
<p>The application uses <a href="//github.com/John-Lluch/SWRevealViewController">SWRevealViewController</a>
to show a sidebar that contains a list of the channels created for that Twilio account.</p>
<p>When you tap on the name of a channel from the sidebar, that channel is set
on the <code>MainChatViewController</code>. The <code>setChannel</code> method takes care of joining
to the selected channel and loading the messages.</p>
</div><div data-title="Creating a Channel" data-file="twiliochat/ChannelManager.m" data-highlight="131-156" class="step"><h2 id="creating-a-channel">Creating a Channel</h2>
<p>We use an input dialog so the user can type the name of the new channel.
The only restriction here, is that the user can&#39;t create a channel called
&quot;General Channel&quot;. Other than that, creating a channel is as simple as calling
<code>createChannelWithFriendlyName</code> on the <code>channelList</code>.</p>
</div><div data-title="Deleting a Channel" data-file="twiliochat/MenuViewController.m" data-highlight="83-95" class="step"><h2 id="deleting-a-channel">Deleting a Channel</h2>
<p>Deleting a channel is as simple as creating one. We&#39;ll use the <code>UITableView</code>
hability to delete a cell. Once you have figured out what channel is meant
to be deleted (from the selected cell index path), deleting it is as simple
as calling the channel&#39;s method <code>destroyWithCompletion</code>.</p>
</div><div data-title="Where to Next?" class="step"><h2 id="where-to-next-">Where to Next?</h2>
<p>That&#39;s it! We&#39;ve just implemented a simple chat application in objective-c.</p>
<p>Thanks for checking out this tutorial! If you have any feedback to share
with us, we&#39;d love to hear it. Tweet
<a href="http://twitter.com/twilio">@twilio</a> to let us know what you think.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="twiliochat/AppDelegate.m" data-mode="objectivec">I2ltcG9ydCAiQXBwRGVsZWdhdGUuaCIKI2ltcG9ydCAiSVBNZXNzYWdpbmdNYW5hZ2VyLmgiCkBpbXBvcnQgRm91bmRhdGlvbjsKCgpAaW50ZXJmYWNlIEFwcERlbGVnYXRlICgpCgpAZW5kCgpAaW1wbGVtZW50YXRpb24gQXBwRGVsZWdhdGUKLSAoQk9PTClhcHBsaWNhdGlvbjooVUlBcHBsaWNhdGlvbiAqKWFwcGxpY2F0aW9uIGRpZEZpbmlzaExhdW5jaGluZ1dpdGhPcHRpb25zOihOU0RpY3Rpb25hcnkgKilsYXVuY2hPcHRpb25zIHsKICBbW0lQTWVzc2FnaW5nTWFuYWdlciBzaGFyZWRNYW5hZ2VyXSBwcmVzZW50TGF1bmNoU2NyZWVuXTsKICBbW0lQTWVzc2FnaW5nTWFuYWdlciBzaGFyZWRNYW5hZ2VyXSBwcmVzZW50Um9vdFZpZXdDb250cm9sbGVyXTsKICAKICByZXR1cm4gWUVTOwp9CgotICh2b2lkKWFwcGxpY2F0aW9uV2lsbFJlc2lnbkFjdGl2ZTooVUlBcHBsaWNhdGlvbiAqKWFwcGxpY2F0aW9uIHsKICAvLyBTZW50IHdoZW4gdGhlIGFwcGxpY2F0aW9uIGlzIGFib3V0IHRvIG1vdmUgZnJvbSBhY3RpdmUgdG8gaW5hY3RpdmUgc3RhdGUuIFRoaXMgY2FuIG9jY3VyIGZvciBjZXJ0YWluIHR5cGVzIG9mIHRlbXBvcmFyeSBpbnRlcnJ1cHRpb25zIChzdWNoIGFzIGFuIGluY29taW5nIHBob25lIGNhbGwgb3IgU01TIG1lc3NhZ2UpIG9yIHdoZW4gdGhlIHVzZXIgcXVpdHMgdGhlIGFwcGxpY2F0aW9uIGFuZCBpdCBiZWdpbnMgdGhlIHRyYW5zaXRpb24gdG8gdGhlIGJhY2tncm91bmQgc3RhdGUuCiAgLy8gVXNlIHRoaXMgbWV0aG9kIHRvIHBhdXNlIG9uZ29pbmcgdGFza3MsIGRpc2FibGUgdGltZXJzLCBhbmQgdGhyb3R0bGUgZG93biBPcGVuR0wgRVMgZnJhbWUgcmF0ZXMuIEdhbWVzIHNob3VsZCB1c2UgdGhpcyBtZXRob2QgdG8gcGF1c2UgdGhlIGdhbWUuCn0KCi0gKHZvaWQpYXBwbGljYXRpb25EaWRFbnRlckJhY2tncm91bmQ6KFVJQXBwbGljYXRpb24gKilhcHBsaWNhdGlvbiB7CiAgLy8gVXNlIHRoaXMgbWV0aG9kIHRvIHJlbGVhc2Ugc2hhcmVkIHJlc291cmNlcywgc2F2ZSB1c2VyIGRhdGEsIGludmFsaWRhdGUgdGltZXJzLCBhbmQgc3RvcmUgZW5vdWdoIGFwcGxpY2F0aW9uIHN0YXRlIGluZm9ybWF0aW9uIHRvIHJlc3RvcmUgeW91ciBhcHBsaWNhdGlvbiB0byBpdHMgY3VycmVudCBzdGF0ZSBpbiBjYXNlIGl0IGlzIHRlcm1pbmF0ZWQgbGF0ZXIuCiAgLy8gSWYgeW91ciBhcHBsaWNhdGlvbiBzdXBwb3J0cyBiYWNrZ3JvdW5kIGV4ZWN1dGlvbiwgdGhpcyBtZXRob2QgaXMgY2FsbGVkIGluc3RlYWQgb2YgYXBwbGljYXRpb25XaWxsVGVybWluYXRlOiB3aGVuIHRoZSB1c2VyIHF1aXRzLgp9CgotICh2b2lkKWFwcGxpY2F0aW9uV2lsbEVudGVyRm9yZWdyb3VuZDooVUlBcHBsaWNhdGlvbiAqKWFwcGxpY2F0aW9uIHsKICAvLyBDYWxsZWQgYXMgcGFydCBvZiB0aGUgdHJhbnNpdGlvbiBmcm9tIHRoZSBiYWNrZ3JvdW5kIHRvIHRoZSBpbmFjdGl2ZSBzdGF0ZTsgaGVyZSB5b3UgY2FuIHVuZG8gbWFueSBvZiB0aGUgY2hhbmdlcyBtYWRlIG9uIGVudGVyaW5nIHRoZSBiYWNrZ3JvdW5kLgp9CgotICh2b2lkKWFwcGxpY2F0aW9uRGlkQmVjb21lQWN0aXZlOihVSUFwcGxpY2F0aW9uICopYXBwbGljYXRpb24gewogIC8vIFJlc3RhcnQgYW55IHRhc2tzIHRoYXQgd2VyZSBwYXVzZWQgKG9yIG5vdCB5ZXQgc3RhcnRlZCkgd2hpbGUgdGhlIGFwcGxpY2F0aW9uIHdhcyBpbmFjdGl2ZS4gSWYgdGhlIGFwcGxpY2F0aW9uIHdhcyBwcmV2aW91c2x5IGluIHRoZSBiYWNrZ3JvdW5kLCBvcHRpb25hbGx5IHJlZnJlc2ggdGhlIHVzZXIgaW50ZXJmYWNlLgp9CgotICh2b2lkKWFwcGxpY2F0aW9uV2lsbFRlcm1pbmF0ZTooVUlBcHBsaWNhdGlvbiAqKWFwcGxpY2F0aW9uIHsKICAvLyBDYWxsZWQgd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgYWJvdXQgdG8gdGVybWluYXRlLiBTYXZlIGRhdGEgaWYgYXBwcm9wcmlhdGUuIFNlZSBhbHNvIGFwcGxpY2F0aW9uRGlkRW50ZXJCYWNrZ3JvdW5kOi4KfQoKQGVuZAo=</textarea>
<textarea class="saurus-file" data-file="twiliochat/IPMessagingManager.m" data-mode="objectivec">I2ltcG9ydCAiSVBNZXNzYWdpbmdNYW5hZ2VyLmgiCiNpbXBvcnQgIkNoYW5uZWxNYW5hZ2VyLmgiCiNpbXBvcnQgIlNlc3Npb25NYW5hZ2VyLmgiCiNpbXBvcnQgIlRva2VuUmVxdWVzdEhhbmRsZXIuaCIKCkBpbnRlcmZhY2UgSVBNZXNzYWdpbmdNYW5hZ2VyICgpCkBwcm9wZXJ0eSAoc3Ryb25nLCBub25hdG9taWMpIFR3aWxpb0lQTWVzc2FnaW5nQ2xpZW50ICpjbGllbnQ7CkBwcm9wZXJ0eSAobm9uYXRvbWljLCBnZXR0ZXI9aXNDb25uZWN0ZWQpIEJPT0wgY29ubmVjdGVkOwpAZW5kCgpzdGF0aWMgTlNTdHJpbmcgKiBjb25zdCBUV0NMb2dpblZpZXdDb250cm9sbGVyTmFtZSA9IEAiTG9naW5WaWV3Q29udHJvbGxlciI7CnN0YXRpYyBOU1N0cmluZyAqIGNvbnN0IFRXQ01haW5WaWV3Q29udHJvbGxlck5hbWUgPSBAIlJldmVhbFZpZXdDb250cm9sbGVyIjsKCnN0YXRpYyBOU1N0cmluZyAqIGNvbnN0IFRXQ1Rva2VuS2V5ID0gQCJ0b2tlbiI7CgpAaW1wbGVtZW50YXRpb24gSVBNZXNzYWdpbmdNYW5hZ2VyCisgKGluc3RhbmNldHlwZSlzaGFyZWRNYW5hZ2VyIHsKICBzdGF0aWMgSVBNZXNzYWdpbmdNYW5hZ2VyICpzaGFyZWRNeU1hbmFnZXIgPSBuaWw7CiAgc3RhdGljIGRpc3BhdGNoX29uY2VfdCBvbmNlVG9rZW47CiAgZGlzcGF0Y2hfb25jZSgmb25jZVRva2VuLCBeewogICAgc2hhcmVkTXlNYW5hZ2VyID0gW1tzZWxmIGFsbG9jXSBpbml0XTsKICB9KTsKICByZXR1cm4gc2hhcmVkTXlNYW5hZ2VyOwp9CgojIHByYWdtYSBtYXJrIFByZXNlbnQgdmlldyBjb250cm9sbGVycwoKLSAodm9pZClwcmVzZW50Um9vdFZpZXdDb250cm9sbGVyIHsKICBpZiAoIXNlbGYuaXNMb2dnZWRJbikgewogICAgW3NlbGYgcHJlc2VudFZpZXdDb250cm9sbGVyQnlOYW1lOlRXQ0xvZ2luVmlld0NvbnRyb2xsZXJOYW1lXTsKICAgIHJldHVybjsKICB9CiAgaWYgKCFzZWxmLmlzQ29ubmVjdGVkKSB7CiAgICBbc2VsZiBjb25uZWN0Q2xpZW50V2l0aENvbXBsZXRpb246XihCT09MIHN1Y2Nlc3MsIE5TRXJyb3IgKmVycm9yKSB7CiAgICAgIE5TU3RyaW5nICp2aWV3Q29udHJvbGxlciA9IHN1Y2Nlc3MgPyBUV0NNYWluVmlld0NvbnRyb2xsZXJOYW1lIDogVFdDTG9naW5WaWV3Q29udHJvbGxlck5hbWU7CiAgICAgIFtzZWxmIHByZXNlbnRWaWV3Q29udHJvbGxlckJ5TmFtZTp2aWV3Q29udHJvbGxlcl07CiAgICB9XTsKICAgIHJldHVybjsKICB9CiAgW3NlbGYgcHJlc2VudFZpZXdDb250cm9sbGVyQnlOYW1lOlRXQ01haW5WaWV3Q29udHJvbGxlck5hbWVdOwp9CgotICh2b2lkKXByZXNlbnRWaWV3Q29udHJvbGxlckJ5TmFtZTooTlNTdHJpbmcgKil2aWV3Q29udHJvbGxlciB7CiAgW3NlbGYgcHJlc2VudFZpZXdDb250cm9sbGVyOltbc2VsZiBzdG9yeWJvYXJkV2l0aE5hbWU6QCJNYWluIl0gaW5zdGFudGlhdGVWaWV3Q29udHJvbGxlcldpdGhJZGVudGlmaWVyOnZpZXdDb250cm9sbGVyXV07Cn0KCi0gKHZvaWQpcHJlc2VudExhdW5jaFNjcmVlbiB7CiAgW3NlbGYgcHJlc2VudFZpZXdDb250cm9sbGVyOltbc2VsZiBzdG9yeWJvYXJkV2l0aE5hbWU6QCJMYXVuY2hTY3JlZW4iXSBpbnN0YW50aWF0ZUluaXRpYWxWaWV3Q29udHJvbGxlcl1dOwp9CgotICh2b2lkKXByZXNlbnRWaWV3Q29udHJvbGxlcjooVUlWaWV3Q29udHJvbGxlciAqKXZpZXdDb250cm9sbGVyIHsKICBVSVdpbmRvdyAqd2luZG93ID0gW1tVSUFwcGxpY2F0aW9uIHNoYXJlZEFwcGxpY2F0aW9uXS5kZWxlZ2F0ZSB3aW5kb3ddOwogIHdpbmRvdy5yb290Vmlld0NvbnRyb2xsZXIgPSB2aWV3Q29udHJvbGxlcjsKfQoKLSAoVUlTdG9yeWJvYXJkICopc3Rvcnlib2FyZFdpdGhOYW1lOihOU1N0cmluZyAqKW5hbWUgewogIHJldHVybiBbVUlTdG9yeWJvYXJkIHN0b3J5Ym9hcmRXaXRoTmFtZTogbmFtZSBidW5kbGU6IFtOU0J1bmRsZSBtYWluQnVuZGxlXV07Cn0KCiMgcHJhZ21hIG1hcmsgVXNlciBhbmQgc2Vzc2lvbiBtYW5hZ2VtZW50CgotIChCT09MKWlzTG9nZ2VkSW4gewogIHJldHVybiBbU2Vzc2lvbk1hbmFnZXIgaXNMb2dnZWRJbl07Cn0KCi0gKHZvaWQpbG9naW5XaXRoVXNlcm5hbWU6KE5TU3RyaW5nICopdXNlcm5hbWUKICAgIGNvbXBsZXRpb246KFN0YXR1c1dpdGhFcnJvckhhbmRsZXIpY29tcGxldGlvbiB7CiAgW1Nlc3Npb25NYW5hZ2VyIGxvZ2luV2l0aFVzZXJuYW1lOnVzZXJuYW1lXTsKICBbc2VsZiBjb25uZWN0Q2xpZW50V2l0aENvbXBsZXRpb246Y29tcGxldGlvbl07Cn0KCi0gKHZvaWQpbG9nb3V0IHsKICBbU2Vzc2lvbk1hbmFnZXIgbG9nb3V0XTsKICBzZWxmLmNvbm5lY3RlZCA9IE5POwogIAogIGRpc3BhdGNoX2FzeW5jKGRpc3BhdGNoX2dldF9nbG9iYWxfcXVldWUoRElTUEFUQ0hfUVVFVUVfUFJJT1JJVFlfREVGQVVMVCwgMCksIF57CiAgICBbc2VsZi5jbGllbnQgc2h1dGRvd25dOwogICAgc2VsZi5jbGllbnQgPSBuaWw7CiAgfSk7Cn0KCiMgcHJhZ21hIG1hcmsgVHdpbGlvIENsaWVudAoKLSAodm9pZCljb25uZWN0Q2xpZW50V2l0aENvbXBsZXRpb246KFN0YXR1c1dpdGhFcnJvckhhbmRsZXIpY29tcGxldGlvbiB7CiAgaWYgKHNlbGYuY2xpZW50KSB7CiAgICBbc2VsZiBsb2dvdXRdOwogIH0KICAKICBbc2VsZiByZXF1ZXN0VG9rZW5XaXRoQ29tcGxldGlvbjpeKEJPT0wgc3VjY2VlZGVkLCBOU1N0cmluZyAqdG9rZW4pIHsKICAgIGlmIChzdWNjZWVkZWQpIHsKICAgICAgW3NlbGYgaW5pdGlhbGl6ZUNsaWVudFdpdGhUb2tlbjogdG9rZW5dOwogICAgICBbc2VsZiBsb2FkR2VuZXJhbENoYXRSb29tV2l0aENvbXBsZXRpb246Y29tcGxldGlvbl07CiAgICB9CiAgICBlbHNlIHsKICAgICAgTlNFcnJvciAqZXJyb3IgPSBbc2VsZiBlcnJvcldpdGhEZXNjcmlwdGlvbjpAIkNvdWxkIG5vdCBnZXQgYWNjZXNzIHRva2VuIiBjb2RlOjMwMV07CiAgICAgIGlmIChjb21wbGV0aW9uKSBjb21wbGV0aW9uKHN1Y2NlZWRlZCwgZXJyb3IpOwogICAgfQogIH1dOwp9CgotICh2b2lkKWluaXRpYWxpemVDbGllbnRXaXRoVG9rZW46KE5TU3RyaW5nICopdG9rZW4gewogIFR3aWxpb0FjY2Vzc01hbmFnZXIgKmFjY2Vzc01hbmFnZXIgPSBbVHdpbGlvQWNjZXNzTWFuYWdlciBhY2Nlc3NNYW5hZ2VyV2l0aFRva2VuOnRva2VuIGRlbGVnYXRlOiBzZWxmXTsKICBzZWxmLmNsaWVudCA9IFtUd2lsaW9JUE1lc3NhZ2luZ0NsaWVudCBpcE1lc3NhZ2luZ0NsaWVudFdpdGhBY2Nlc3NNYW5hZ2VyOmFjY2Vzc01hbmFnZXIgZGVsZWdhdGU6bmlsXTsKfQoKLSAodm9pZClsb2FkR2VuZXJhbENoYXRSb29tV2l0aENvbXBsZXRpb246KFN0YXR1c1dpdGhFcnJvckhhbmRsZXIpY29tcGxldGlvbiB7CiAgW1tDaGFubmVsTWFuYWdlciBzaGFyZWRNYW5hZ2VyXSBqb2luR2VuZXJhbENoYXRSb29tV2l0aENvbXBsZXRpb246XihCT09MIHN1Y2NlZWRlZCkgewogICAgaWYgKHN1Y2NlZWRlZCkKICAgIHsKICAgICAgc2VsZi5jb25uZWN0ZWQgPSBZRVM7CiAgICAgIGlmIChjb21wbGV0aW9uKSBjb21wbGV0aW9uKHN1Y2NlZWRlZCwgbmlsKTsKICAgIH0KICAgIGVsc2UgewogICAgICBOU0Vycm9yICplcnJvciA9IFtzZWxmIGVycm9yV2l0aERlc2NyaXB0aW9uOkAiQ291bGQgbm90IGpvaW4gR2VuZXJhbCBjaGFubmVsIiBjb2RlOjMwMF07CiAgICAgIGlmIChjb21wbGV0aW9uKSBjb21wbGV0aW9uKHN1Y2NlZWRlZCwgZXJyb3IpOwogICAgfQogIH1dOwp9CgotICh2b2lkKXJlcXVlc3RUb2tlbldpdGhDb21wbGV0aW9uOihTdGF0dXNXaXRoVG9rZW5IYW5kbGVyKWNvbXBsZXRpb24gewogIE5TU3RyaW5nICp1dWlkID0gW1tVSURldmljZSBjdXJyZW50RGV2aWNlXSBpZGVudGlmaWVyRm9yVmVuZG9yXS5VVUlEU3RyaW5nOwogIE5TRGljdGlvbmFyeSAqcGFyYW1ldGVycyA9IEB7QCJkZXZpY2UiOiB1dWlkLCBAImlkZW50aXR5IjogW1Nlc3Npb25NYW5hZ2VyIGdldFVzZXJuYW1lXX07CgogIFtUb2tlblJlcXVlc3RIYW5kbGVyIGZldGNoVG9rZW5XaXRoUGFyYW1zOnBhcmFtZXRlcnMgY29tcGxldGlvbjpeKE5TRGljdGlvbmFyeSAqcmVzdWx0cywgTlNFcnJvciAqZXJyb3IpIHsKICAgIE5TU3RyaW5nICp0b2tlbiA9IFtyZXN1bHRzIG9iamVjdEZvcktleTpUV0NUb2tlbktleV07CiAgICBCT09MIGVycm9yQ29uZGl0aW9uID0gZXJyb3IgfHwgIXRva2VuOwoKICAgIGlmIChjb21wbGV0aW9uKSBjb21wbGV0aW9uKCFlcnJvckNvbmRpdGlvbiwgdG9rZW4pOwogIH1dOwp9CgotIChOU0Vycm9yICopZXJyb3JXaXRoRGVzY3JpcHRpb246KE5TU3RyaW5nICopZGVzY3JpcHRpb24gY29kZTooTlNJbnRlZ2VyKWNvZGUgewogIE5TRGljdGlvbmFyeSAqdXNlckluZm8gPSBAe05TTG9jYWxpemVkRGVzY3JpcHRpb25LZXk6IGRlc2NyaXB0aW9ufTsKICBOU0Vycm9yICplcnJvciA9IFtOU0Vycm9yIGVycm9yV2l0aERvbWFpbjpAImFwcCIgY29kZTpjb2RlIHVzZXJJbmZvOnVzZXJJbmZvXTsKICByZXR1cm4gZXJyb3I7Cn0KCiMgcHJhZ21hIG1hcmsgVHdpbGlvQWNjZXNzTWFuYWdlckRlbGVnYXRlCgotICh2b2lkKWFjY2Vzc01hbmFnZXJUb2tlbkV4cGlyZWQ6KFR3aWxpb0FjY2Vzc01hbmFnZXIgKilhY2Nlc3NNYW5hZ2VyIHsKICBbc2VsZiByZXF1ZXN0VG9rZW5XaXRoQ29tcGxldGlvbjpeKEJPT0wgc3VjY2VlZGVkLCBOU1N0cmluZyAqdG9rZW4pIHsKICAgIGlmIChzdWNjZWVkZWQpIHsKICAgICAgW2FjY2Vzc01hbmFnZXIgdXBkYXRlVG9rZW46dG9rZW5dOwogICAgfQogICAgZWxzZSB7CiAgICAgIE5TTG9nKEAiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGdldCBuZXcgYWNjZXNzIHRva2VuIik7CiAgICB9CiAgfV07Cn0KCi0gKHZvaWQpYWNjZXNzTWFuYWdlcjooVHdpbGlvQWNjZXNzTWFuYWdlciAqKWFjY2Vzc01hbmFnZXIgZXJyb3I6KE5TRXJyb3IgKillcnJvciB7CiAgTlNMb2coQCJBY2Nlc3MgbWFuYWdlciBlcnJvcjogJUAiLCBbZXJyb3IgbG9jYWxpemVkRGVzY3JpcHRpb25dKTsKfQoKI3ByYWdtYSBtYXJrIEludGVybmFsIGhlbHBlcnMKCi0gKE5TU3RyaW5nICopdXNlcklkZW50aXR5IHsKICByZXR1cm4gW1Nlc3Npb25NYW5hZ2VyIGdldFVzZXJuYW1lXTsKfQoKQGVuZAo=</textarea>
<textarea class="saurus-file" data-file="twiliochat/ChannelManager.m" data-mode="objectivec">I2ltcG9ydCAiQ2hhbm5lbE1hbmFnZXIuaCIKI2ltcG9ydCAiSVBNZXNzYWdpbmdNYW5hZ2VyLmgiCgpAaW50ZXJmYWNlIENoYW5uZWxNYW5hZ2VyICgpCkBwcm9wZXJ0eSAoc3Ryb25nLCBub25hdG9taWMpIFRXTUNoYW5uZWwgKmdlbmVyYWxDaGFubmVsOwpAZW5kCgpzdGF0aWMgTlNTdHJpbmcgKiBjb25zdCBUV0NEZWZhdWx0Q2hhbm5lbFVuaXF1ZU5hbWUgPSBAImdlbmVyYWwiOwpzdGF0aWMgTlNTdHJpbmcgKiBjb25zdCBUV0NEZWZhdWx0Q2hhbm5lbE5hbWUgPSBAIkdlbmVyYWwgQ2hhbm5lbCI7CgpzdGF0aWMgTlNTdHJpbmcgKiBjb25zdCBUV0NGcmllbmRseU5hbWVLZXkgPSBAImZyaWVuZGx5TmFtZSI7CgpAaW1wbGVtZW50YXRpb24gQ2hhbm5lbE1hbmFnZXIKCisgKGluc3RhbmNldHlwZSlzaGFyZWRNYW5hZ2VyIHsKICBzdGF0aWMgQ2hhbm5lbE1hbmFnZXIgKnNoYXJlZE15TWFuYWdlciA9IG5pbDsKICBzdGF0aWMgZGlzcGF0Y2hfb25jZV90IG9uY2VUb2tlbjsKICBkaXNwYXRjaF9vbmNlKCZvbmNlVG9rZW4sIF57CiAgICBzaGFyZWRNeU1hbmFnZXIgPSBbW3NlbGYgYWxsb2NdIGluaXRdOwogIH0pOwogIHJldHVybiBzaGFyZWRNeU1hbmFnZXI7Cn0KCi0gKGluc3RhbmNldHlwZSlpbml0IHsKCiAgc2VsZi5jaGFubmVscyA9IFtbTlNNdXRhYmxlT3JkZXJlZFNldCBhbGxvY10gaW5pdF07CiAgW0lQTWVzc2FnaW5nTWFuYWdlciBzaGFyZWRNYW5hZ2VyXS5jbGllbnQuZGVsZWdhdGUgPSBzZWxmOwogIHJldHVybiBzZWxmOwp9CgojcHJhZ21hIG1hcmsgR2VuZXJhbCBjaGFubmVsCgotICh2b2lkKWpvaW5HZW5lcmFsQ2hhdFJvb21XaXRoQ29tcGxldGlvbjooU3VjY2VlZEhhbmRsZXIpY29tcGxldGlvbiB7CiAgW3NlbGYgcG9wdWxhdGVDaGFubmVsc1dpdGhDb21wbGV0aW9uOl4oQk9PTCBzdWNjZWVkZWQpIHsKICAgIHNlbGYuZ2VuZXJhbENoYW5uZWwgPSBbc2VsZi5jaGFubmVsc0xpc3QgY2hhbm5lbFdpdGhVbmlxdWVOYW1lOlRXQ0RlZmF1bHRDaGFubmVsVW5pcXVlTmFtZV07CiAgICBpZiAoc2VsZi5nZW5lcmFsQ2hhbm5lbCkgewogICAgICBbc2VsZiBqb2luR2VuZXJhbENoYXRSb29tV2l0aFVuaXF1ZU5hbWU6bmlsIGNvbXBsZXRpb246Y29tcGxldGlvbl07CiAgICB9CiAgICBlbHNlIHsKICAgICAgW3NlbGYgY3JlYXRlR2VuZXJhbENoYXRSb29tV2l0aENvbXBsZXRpb246XihCT09MIHN1Y2NlZWRlZCkgewogICAgICAgIGlmIChzdWNjZWVkZWQpIHsKICAgICAgICAgIFtzZWxmIGpvaW5HZW5lcmFsQ2hhdFJvb21XaXRoVW5pcXVlTmFtZTpUV0NEZWZhdWx0Q2hhbm5lbFVuaXF1ZU5hbWUgY29tcGxldGlvbjpjb21wbGV0aW9uXTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbXBsZXRpb24pIGNvbXBsZXRpb24oTk8pOwogICAgICB9XTsKICAgIH0KICB9XTsKfQoKLSAodm9pZClqb2luR2VuZXJhbENoYXRSb29tV2l0aFVuaXF1ZU5hbWU6KE5TU3RyaW5nICopdW5pcXVlTmFtZSBjb21wbGV0aW9uOihTdWNjZWVkSGFuZGxlciljb21wbGV0aW9uIHsKICBbc2VsZi5nZW5lcmFsQ2hhbm5lbCBqb2luV2l0aENvbXBsZXRpb246XihUV01SZXN1bHQgcmVzdWx0KSB7CiAgICBpZiAocmVzdWx0ID09IFRXTVJlc3VsdFN1Y2Nlc3MpIHsKICAgICAgaWYgKHVuaXF1ZU5hbWUpIHsKICAgICAgICBbc2VsZiBzZXRHZW5lcmFsQ2hhdFJvb21VbmlxdWVOYW1lV2l0aENvbXBsZXRpb246Y29tcGxldGlvbl07CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9CiAgICBpZiAoY29tcGxldGlvbikgY29tcGxldGlvbihyZXN1bHQgPT0gVFdNUmVzdWx0U3VjY2Vzcyk7CiAgfV07Cn0KCi0gKHZvaWQpY3JlYXRlR2VuZXJhbENoYXRSb29tV2l0aENvbXBsZXRpb246KFN1Y2NlZWRIYW5kbGVyKWNvbXBsZXRpb24gewogIFtzZWxmLmNoYW5uZWxzTGlzdCBjcmVhdGVDaGFubmVsV2l0aEZyaWVuZGx5TmFtZTpUV0NEZWZhdWx0Q2hhbm5lbE5hbWUgdHlwZTpUV01DaGFubmVsVHlwZVB1YmxpYwogICAgY29tcGxldGlvbjpeKFRXTVJlc3VsdCByZXN1bHQsIFRXTUNoYW5uZWwgKmNoYW5uZWwpIHsKICAgICAgaWYgKHJlc3VsdCA9PSBUV01SZXN1bHRTdWNjZXNzKSB7CiAgICAgICAgc2VsZi5nZW5lcmFsQ2hhbm5lbCA9IGNoYW5uZWw7CiAgICAgIH0KICAgICAgaWYgKGNvbXBsZXRpb24pIGNvbXBsZXRpb24ocmVzdWx0ID09IFRXTVJlc3VsdFN1Y2Nlc3MpOwogICAgfV07Cn0KCi0gKHZvaWQpc2V0R2VuZXJhbENoYXRSb29tVW5pcXVlTmFtZVdpdGhDb21wbGV0aW9uOihTdWNjZWVkSGFuZGxlciljb21wbGV0aW9uIHsKICBbc2VsZi5nZW5lcmFsQ2hhbm5lbCBzZXRVbmlxdWVOYW1lOlRXQ0RlZmF1bHRDaGFubmVsVW5pcXVlTmFtZSBjb21wbGV0aW9uOl4oVFdNUmVzdWx0IHJlc3VsdCkgewogICAgaWYgKGNvbXBsZXRpb24pIGNvbXBsZXRpb24ocmVzdWx0ID09IFRXTVJlc3VsdFN1Y2Nlc3MpOwogIH1dOwp9CgojcHJhZ21hIG1hcmsgUG9wdWxhdGUgY2hhbm5lbHMKCi0gKHZvaWQpcG9wdWxhdGVDaGFubmVsc1dpdGhDb21wbGV0aW9uOihTdWNjZWVkSGFuZGxlciljb21wbGV0aW9uIHsKICBzZWxmLmNoYW5uZWxzID0gbmlsOwoKICBbc2VsZiBsb2FkQ2hhbm5lbExpc3RXaXRoQ29tcGxldGlvbjpeKEJPT0wgc3VjY2VlZGVkLCBUV01DaGFubmVscyAqY2hhbm5lbHNMaXN0KSB7CiAgICBpZiAoIXN1Y2NlZWRlZCkgewogICAgICBzZWxmLmNoYW5uZWxzTGlzdCA9IG5pbDsKICAgICAgc2VsZi5jaGFubmVscyA9IG5pbDsKICAgICAgaWYgKGNvbXBsZXRpb24pIGNvbXBsZXRpb24oc3VjY2VlZGVkKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgZGlzcGF0Y2hfYXN5bmMoZGlzcGF0Y2hfZ2V0X2dsb2JhbF9xdWV1ZShESVNQQVRDSF9RVUVVRV9QUklPUklUWV9ERUZBVUxULCAwKSwgXnsKICAgICAgW3NlbGYuY2hhbm5lbHNMaXN0IGxvYWRDaGFubmVsc1dpdGhDb21wbGV0aW9uOl4oVFdNUmVzdWx0IHJlc3VsdCkgewogICAgICAgIGlmIChyZXN1bHQgPT0gVFdNUmVzdWx0U3VjY2VzcykgewogICAgICAgICAgc2VsZi5jaGFubmVscyA9IFtbTlNNdXRhYmxlT3JkZXJlZFNldCBhbGxvY10gaW5pdF07CiAgICAgICAgICBbc2VsZi5jaGFubmVscyBhZGRPYmplY3RzRnJvbUFycmF5OltzZWxmLmNoYW5uZWxzTGlzdCBhbGxPYmplY3RzXV07CiAgICAgICAgICBbc2VsZiBzb3J0Q2hhbm5lbHNdOwogICAgICAgIH0KICAgICAgICBkaXNwYXRjaF9hc3luYyhkaXNwYXRjaF9nZXRfbWFpbl9xdWV1ZSgpLCBeewogICAgICAgICAgaWYgKGNvbXBsZXRpb24pIGNvbXBsZXRpb24oc3VjY2VlZGVkKTsKICAgICAgICB9KTsKICAgICAgfV07CiAgICB9KTsKICB9XTsKfQoKLSAodm9pZClsb2FkQ2hhbm5lbExpc3RXaXRoQ29tcGxldGlvbjooQ2hhbm5lbHNMaXN0SGFuZGxlciljb21wbGV0aW9uIHsKICBzZWxmLmNoYW5uZWxzTGlzdCA9IG5pbDsKCiAgZGlzcGF0Y2hfYXN5bmMoZGlzcGF0Y2hfZ2V0X2dsb2JhbF9xdWV1ZShESVNQQVRDSF9RVUVVRV9QUklPUklUWV9ERUZBVUxULCAwKSwgXnsKICAgIFtbSVBNZXNzYWdpbmdNYW5hZ2VyIHNoYXJlZE1hbmFnZXJdLmNsaWVudCBjaGFubmVsc0xpc3RXaXRoQ29tcGxldGlvbjpeKFRXTVJlc3VsdCByZXN1bHQsIFRXTUNoYW5uZWxzICpjaGFubmVsc0xpc3QpIHsKICAgICAgaWYgKHJlc3VsdCA9PSBUV01SZXN1bHRTdWNjZXNzKSB7CiAgICAgICAgc2VsZi5jaGFubmVsc0xpc3QgPSBjaGFubmVsc0xpc3Q7CiAgICAgIH0KICAgICAgZGlzcGF0Y2hfYXN5bmMoZGlzcGF0Y2hfZ2V0X21haW5fcXVldWUoKSwgXnsKICAgICAgICBpZiAoY29tcGxldGlvbikgY29tcGxldGlvbihyZXN1bHQgPT0gVFdNUmVzdWx0U3VjY2Vzcywgc2VsZi5jaGFubmVsc0xpc3QpOwogICAgICB9KTsKICAgIH1dOwogIH0pOwp9CgotICh2b2lkKXNvcnRDaGFubmVscyB7CiAgU0VMIHNvcnRTZWxlY3RvciA9IEBzZWxlY3Rvcihsb2NhbGl6ZWRDYXNlSW5zZW5zaXRpdmVDb21wYXJlOik7CiAgTlNTb3J0RGVzY3JpcHRvciAqZGVzY3JpcHRvciA9IFtbTlNTb3J0RGVzY3JpcHRvciBhbGxvY10gaW5pdFdpdGhLZXk6VFdDRnJpZW5kbHlOYW1lS2V5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc2NlbmRpbmc6WUVTCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6c29ydFNlbGVjdG9yXTsKICBbc2VsZi5jaGFubmVscyBzb3J0VXNpbmdEZXNjcmlwdG9yczpAW2Rlc2NyaXB0b3JdXTsKfQoKIyBwcmFnbWEgbWFyayBDcmVhdGUgY2hhbm5lbAoKLSAodm9pZCljcmVhdGVDaGFubmVsV2l0aE5hbWU6KE5TU3RyaW5nICopbmFtZSBjb21wbGV0aW9uOihDaGFubmVsSGFuZGxlciljb21wbGV0aW9uIHsKICBpZiAoW25hbWUgaXNFcXVhbFRvU3RyaW5nOlRXQ0RlZmF1bHRDaGFubmVsTmFtZV0pIHsKICAgIGlmIChjb21wbGV0aW9uKSBjb21wbGV0aW9uKE5PLCBuaWwpOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKCFzZWxmLmNoYW5uZWxzTGlzdCkKICB7CiAgICBbc2VsZiBsb2FkQ2hhbm5lbExpc3RXaXRoQ29tcGxldGlvbjpeKEJPT0wgc3VjY2VlZGVkLCBUV01DaGFubmVscyAqY2hhbm5lbHNMaXN0KSB7CiAgICAgIGlmIChzdWNjZWVkZWQpIHsKICAgICAgICBbc2VsZiBjcmVhdGVDaGFubmVsV2l0aE5hbWU6bmFtZSBjb21wbGV0aW9uOmNvbXBsZXRpb25dOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGNvbXBsZXRpb24pIHsKICAgICAgICBjb21wbGV0aW9uKHN1Y2NlZWRlZCwgbmlsKTsKICAgICAgfQogICAgfV07CiAgICByZXR1cm47CiAgfQoKICBbc2VsZi5jaGFubmVsc0xpc3QKICAgIGNyZWF0ZUNoYW5uZWxXaXRoRnJpZW5kbHlOYW1lOm5hbWUKICAgIHR5cGU6VFdNQ2hhbm5lbFR5cGVQdWJsaWMKICAgIGNvbXBsZXRpb246XihUV01SZXN1bHQgcmVzdWx0LCBUV01DaGFubmVsICpjaGFubmVsKSB7CiAgICAgIGlmIChjb21wbGV0aW9uKSBjb21wbGV0aW9uKHJlc3VsdCA9PSBUV01SZXN1bHRTdWNjZXNzLCBjaGFubmVsKTsKICAgIH1dOwp9CgojIHByYWdtYSBtYXJrIFR3aWxpb0lQTWVzc2FnaW5nQ2xpZW50RGVsZWdhdGUKCi0gKHZvaWQpaXBNZXNzYWdpbmdDbGllbnQ6KFR3aWxpb0lQTWVzc2FnaW5nQ2xpZW50ICopY2xpZW50IGNoYW5uZWxBZGRlZDooVFdNQ2hhbm5lbCAqKWNoYW5uZWwgewogIGRpc3BhdGNoX2FzeW5jKGRpc3BhdGNoX2dldF9tYWluX3F1ZXVlKCksIF57CiAgICBbc2VsZi5jaGFubmVscyBhZGRPYmplY3Q6Y2hhbm5lbF07CiAgICBbc2VsZiBzb3J0Q2hhbm5lbHNdOwogICAgW3NlbGYuZGVsZWdhdGUgaXBNZXNzYWdpbmdDbGllbnQ6Y2xpZW50IGNoYW5uZWxBZGRlZDpjaGFubmVsXTsKICB9KTsKfQoKLSAodm9pZClpcE1lc3NhZ2luZ0NsaWVudDooVHdpbGlvSVBNZXNzYWdpbmdDbGllbnQgKiljbGllbnQgY2hhbm5lbENoYW5nZWQ6KFRXTUNoYW5uZWwgKiljaGFubmVsIHsKICBkaXNwYXRjaF9hc3luYyhkaXNwYXRjaF9nZXRfbWFpbl9xdWV1ZSgpLCBeewogICAgW3NlbGYuZGVsZWdhdGUgaXBNZXNzYWdpbmdDbGllbnQ6Y2xpZW50IGNoYW5uZWxDaGFuZ2VkOmNoYW5uZWxdOwogIH0pOwp9CgotICh2b2lkKWlwTWVzc2FnaW5nQ2xpZW50OihUd2lsaW9JUE1lc3NhZ2luZ0NsaWVudCAqKWNsaWVudCBjaGFubmVsRGVsZXRlZDooVFdNQ2hhbm5lbCAqKWNoYW5uZWwgewogIGRpc3BhdGNoX2FzeW5jKGRpc3BhdGNoX2dldF9tYWluX3F1ZXVlKCksIF57CiAgICBbW0NoYW5uZWxNYW5hZ2VyIHNoYXJlZE1hbmFnZXJdLmNoYW5uZWxzIHJlbW92ZU9iamVjdDpjaGFubmVsXTsKICAgIFtzZWxmLmRlbGVnYXRlIGlwTWVzc2FnaW5nQ2xpZW50OmNsaWVudCBjaGFubmVsRGVsZXRlZDpjaGFubmVsXTsKICB9KTsKfQoKQGVuZAo=</textarea>
<textarea class="saurus-file" data-file="twiliochat/MainChatViewController.m" data-mode="objectivec">I2ltcG9ydCA8VHdpbGlvSVBNZXNzYWdpbmdDbGllbnQvVHdpbGlvSVBNZXNzYWdpbmdDbGllbnQuaD4KI2ltcG9ydCAiTWFpbkNoYXRWaWV3Q29udHJvbGxlci5oIgojaW1wb3J0ICJDaGF0VGFibGVDZWxsLmgiCiNpbXBvcnQgIk5TRGF0ZStJU084NjAxUGFyc2VyLmgiCiNpbXBvcnQgIlNXUmV2ZWFsVmlld0NvbnRyb2xsZXIuaCIKI2ltcG9ydCAiQ2hhbm5lbE1hbmFnZXIuaCIKI2ltcG9ydCAiU3RhdHVzRW50cnkuaCIKI2ltcG9ydCAiRGF0ZVRvZGF5Rm9ybWF0dGVyLmgiCiNpbXBvcnQgIk1lbnVWaWV3Q29udHJvbGxlci5oIgoKQGludGVyZmFjZSBNYWluQ2hhdFZpZXdDb250cm9sbGVyICgpCkBwcm9wZXJ0eSAod2Vhaywgbm9uYXRvbWljKSBJQk91dGxldCBVSUJhckJ1dHRvbkl0ZW0gKnJldmVhbEJ1dHRvbkl0ZW07CkBwcm9wZXJ0eSAod2Vhaywgbm9uYXRvbWljKSBJQk91dGxldCBVSUJhckJ1dHRvbkl0ZW0gKmFjdGlvbkJ1dHRvbkl0ZW07CgpAcHJvcGVydHkgKHN0cm9uZywgbm9uYXRvbWljKSBOU011dGFibGVPcmRlcmVkU2V0ICptZXNzYWdlczsKCkBlbmQKCnN0YXRpYyBOU1N0cmluZyAqIGNvbnN0IFRXQ0NoYXRDZWxsSWRlbnRpZmllciA9IEAiQ2hhdFRhYmxlQ2VsbCI7CnN0YXRpYyBOU1N0cmluZyAqIGNvbnN0IFRXQ0NoYXRTdGF0dXNDZWxsSWRlbnRpZmllciA9IEAiQ2hhdFN0YXR1c1RhYmxlQ2VsbCI7CgpzdGF0aWMgTlNTdHJpbmcgKiBjb25zdCBUV0NPcGVuR2VuZXJhbENoYW5uZWxTZWd1ZSA9IEAiT3BlbkdlbmVyYWxDaGF0IjsKc3RhdGljIE5TSW50ZWdlciBjb25zdCBUV0NMYWJlbFRhZyA9IDIwMDsKCkBpbXBsZW1lbnRhdGlvbiBNYWluQ2hhdFZpZXdDb250cm9sbGVyCgojcHJhZ21hIG1hcmsgSW5pdGlhbGl6YXRpb24KCi0gKHZvaWQpdmlld0RpZExvYWQgewogIFtzdXBlciB2aWV3RGlkTG9hZF07CiAgCiAgaWYgKHNlbGYucmV2ZWFsVmlld0NvbnRyb2xsZXIpCiAgewogICAgW3NlbGYucmV2ZWFsQnV0dG9uSXRlbSBzZXRUYXJnZXQ6IHNlbGYucmV2ZWFsVmlld0NvbnRyb2xsZXJdOwogICAgW3NlbGYucmV2ZWFsQnV0dG9uSXRlbSBzZXRBY3Rpb246IEBzZWxlY3RvciggcmV2ZWFsVG9nZ2xlOiApXTsKICAgIFtzZWxmLm5hdmlnYXRpb25Db250cm9sbGVyLm5hdmlnYXRpb25CYXIgYWRkR2VzdHVyZVJlY29nbml6ZXI6IHNlbGYucmV2ZWFsVmlld0NvbnRyb2xsZXIucGFuR2VzdHVyZVJlY29nbml6ZXJdOwogICAgc2VsZi5yZXZlYWxWaWV3Q29udHJvbGxlci5yZWFyVmlld1JldmVhbE92ZXJkcmF3ID0gMC5mOwogIH0KICAKICBzZWxmLmJvdW5jZXMgPSBZRVM7CiAgc2VsZi5zaGFrZVRvQ2xlYXJFbmFibGVkID0gWUVTOwogIHNlbGYua2V5Ym9hcmRQYW5uaW5nRW5hYmxlZCA9IFlFUzsKICBzZWxmLnNob3VsZFNjcm9sbFRvQm90dG9tQWZ0ZXJLZXlib2FyZFNob3dzID0gTk87CiAgc2VsZi5pbnZlcnRlZCA9IFlFUzsKICAKICBVSU5pYiAqY2VsbE5pYiA9IFtVSU5pYiBuaWJXaXRoTmliTmFtZTpUV0NDaGF0Q2VsbElkZW50aWZpZXIgYnVuZGxlOm5pbF07CiAgW3NlbGYudGFibGVWaWV3IHJlZ2lzdGVyTmliOmNlbGxOaWIKICAgICAgIGZvckNlbGxSZXVzZUlkZW50aWZpZXI6VFdDQ2hhdENlbGxJZGVudGlmaWVyXTsKICAKICBVSU5pYiAqY2VsbFN0YXR1c05pYiA9IFtVSU5pYiBuaWJXaXRoTmliTmFtZTpUV0NDaGF0U3RhdHVzQ2VsbElkZW50aWZpZXIgYnVuZGxlOm5pbF07CiAgW3NlbGYudGFibGVWaWV3IHJlZ2lzdGVyTmliOmNlbGxTdGF0dXNOaWIKICAgICAgIGZvckNlbGxSZXVzZUlkZW50aWZpZXI6VFdDQ2hhdFN0YXR1c0NlbGxJZGVudGlmaWVyXTsKICAKICBzZWxmLnRleHRJbnB1dGJhci5hdXRvSGlkZVJpZ2h0QnV0dG9uID0gWUVTOwogIHNlbGYudGV4dElucHV0YmFyLm1heENoYXJDb3VudCA9IDI1NjsKICBzZWxmLnRleHRJbnB1dGJhci5jb3VudGVyU3R5bGUgPSBTTEtDb3VudGVyU3R5bGVTcGxpdDsKICBzZWxmLnRleHRJbnB1dGJhci5jb3VudGVyUG9zaXRpb24gPSBTTEtDb3VudGVyUG9zaXRpb25Ub3A7CiAgCiAgVUlGb250ICpmb250ID0gW1VJRm9udCBmb250V2l0aE5hbWU6QCJBdmVuaXItTGlnaHQiIHNpemU6MTRdOwogIHNlbGYudGV4dFZpZXcuZm9udCA9IGZvbnQ7CiAgCiAgW3NlbGYucmlnaHRCdXR0b24gc2V0VGl0bGVDb2xvcjpbVUlDb2xvciBjb2xvcldpdGhSZWQ6MC45NzMgZ3JlZW46MC41NTcgYmx1ZTowLjUwMiBhbHBoYToxXQogICAgICAgICAgICAgICAgICAgICAgICAgZm9yU3RhdGU6VUlDb250cm9sU3RhdGVOb3JtYWxdOwogIAogIGZvbnQgPSBbVUlGb250IGZvbnRXaXRoTmFtZTpAIkF2ZW5pci1IZWF2eSIgc2l6ZToxN107CiAgc2VsZi5uYXZpZ2F0aW9uQ29udHJvbGxlci5uYXZpZ2F0aW9uQmFyLnRpdGxlVGV4dEF0dHJpYnV0ZXMgPSBAe05TRm9udEF0dHJpYnV0ZU5hbWU6Zm9udH07CgogIHNlbGYudGFibGVWaWV3LmFsbG93c1NlbGVjdGlvbiA9IE5POwogIHNlbGYudGFibGVWaWV3LmVzdGltYXRlZFJvd0hlaWdodCA9IDcwOwogIHNlbGYudGFibGVWaWV3LnJvd0hlaWdodCA9IFVJVGFibGVWaWV3QXV0b21hdGljRGltZW5zaW9uOwogIHNlbGYudGFibGVWaWV3LnNlcGFyYXRvclN0eWxlID0gVUlUYWJsZVZpZXdDZWxsU2VwYXJhdG9yU3R5bGVOb25lOwogIAogIGlmICghc2VsZi5jaGFubmVsKSB7CiAgICBzZWxmLmNoYW5uZWwgPSBbQ2hhbm5lbE1hbmFnZXIgc2hhcmVkTWFuYWdlcl0uZ2VuZXJhbENoYW5uZWw7CiAgfQp9CgotICh2b2lkKXZpZXdEaWRBcHBlYXI6KEJPT0wpYW5pbWF0ZWQgewogIFtzdXBlciB2aWV3RGlkQXBwZWFyOmFuaW1hdGVkXTsKICBbc2VsZiBzY3JvbGxUb0JvdHRvbU1lc3NhZ2VdOwp9CgotIChOU011dGFibGVPcmRlcmVkU2V0ICopbWVzc2FnZXMgewogIGlmICghX21lc3NhZ2VzKSB7CiAgICBfbWVzc2FnZXMgPSBbW05TTXV0YWJsZU9yZGVyZWRTZXQgYWxsb2NdIGluaXRdOwogIH0KICByZXR1cm4gX21lc3NhZ2VzOwp9CgotICh2b2lkKXNldENoYW5uZWw6KFRXTUNoYW5uZWwgKiljaGFubmVsIHsKICBfY2hhbm5lbCA9IGNoYW5uZWw7CiAgc2VsZi50aXRsZSA9IHNlbGYuY2hhbm5lbC5mcmllbmRseU5hbWU7CiAgc2VsZi5jaGFubmVsLmRlbGVnYXRlID0gc2VsZjsKICAKICBpZiAoc2VsZi5jaGFubmVsID09IFtDaGFubmVsTWFuYWdlciBzaGFyZWRNYW5hZ2VyXS5nZW5lcmFsQ2hhbm5lbCkgewogICAgc2VsZi5uYXZpZ2F0aW9uSXRlbS5yaWdodEJhckJ1dHRvbkl0ZW0gPSBuaWw7CiAgfQogIAogIGlmIChzZWxmLmNoYW5uZWwuc3RhdHVzID09IFRXTUNoYW5uZWxTdGF0dXNKb2luZWQpCiAgewogICAgW3NlbGYgbG9hZE1lc3NhZ2VzXTsKICAgIHNlbGYuY2hhbm5lbC5kZWxlZ2F0ZSA9IHNlbGY7CiAgfQogIGVsc2UgewogICAgW1VJQXBwbGljYXRpb24gc2hhcmVkQXBwbGljYXRpb25dLm5ldHdvcmtBY3Rpdml0eUluZGljYXRvclZpc2libGUgPSBZRVM7CiAgICBzZWxmLnRleHRJbnB1dGJhckhpZGRlbiA9IFlFUzsKICAgIFtzZWxmLmNoYW5uZWwgam9pbldpdGhDb21wbGV0aW9uOl4oVFdNUmVzdWx0IHJlc3VsdCkgewogICAgICBkaXNwYXRjaF9hc3luYyhkaXNwYXRjaF9nZXRfbWFpbl9xdWV1ZSgpLCBeewogICAgICAgIFtVSUFwcGxpY2F0aW9uIHNoYXJlZEFwcGxpY2F0aW9uXS5uZXR3b3JrQWN0aXZpdHlJbmRpY2F0b3JWaXNpYmxlID0gTk87CiAgICAgICAgW3NlbGYgc2V0VGV4dElucHV0YmFySGlkZGVuOk5PIGFuaW1hdGVkOllFU107CiAgICAgIH0pOwogICAgfV07CiAgfQp9CgotIChOU0ludGVnZXIpbnVtYmVyT2ZTZWN0aW9uc0luVGFibGVWaWV3OihVSVRhYmxlVmlldyAqKXRhYmxlVmlldyB7CiAgcmV0dXJuIDE7Cn0KCi0gKE5TSW50ZWdlcil0YWJsZVZpZXc6KFVJVGFibGVWaWV3ICopdGFibGVWaWV3IG51bWJlck9mUm93c0luU2VjdGlvbjooTlNJbnRlZ2VyKXNlY3Rpb24gewogIHJldHVybiBzZWxmLm1lc3NhZ2VzLmNvdW50Owp9CgotIChVSVRhYmxlVmlld0NlbGwgKil0YWJsZVZpZXc6KFVJVGFibGVWaWV3ICopdGFibGVWaWV3IGNlbGxGb3JSb3dBdEluZGV4UGF0aDooTlNJbmRleFBhdGggKilpbmRleFBhdGggewogIFVJVGFibGVWaWV3Q2VsbCAqY2VsbCA9IG5pbDsKICAKICBpZCBtZXNzYWdlID0gW3NlbGYubWVzc2FnZXMgb2JqZWN0QXRJbmRleDppbmRleFBhdGgucm93XTsKICAKICBpZiAoW21lc3NhZ2UgaXNLaW5kT2ZDbGFzczpbVFdNTWVzc2FnZSBjbGFzc11dKSB7CiAgICBjZWxsID0gW3NlbGYgZ2V0Q2hhdENlbGxGb3JUYWJsZVZpZXc6dGFibGVWaWV3IGZvckluZGV4UGF0aDppbmRleFBhdGggbWVzc2FnZTptZXNzYWdlXTsKICB9CiAgZWxzZSB7CiAgICBjZWxsID0gW3NlbGYgZ2V0U3RhdHVDZWxsRm9yVGFibGVWaWV3OnRhYmxlVmlldyBmb3JJbmRleFBhdGg6aW5kZXhQYXRoIG1lc3NhZ2U6bWVzc2FnZV07CiAgfQogIAogIGNlbGwudHJhbnNmb3JtID0gdGFibGVWaWV3LnRyYW5zZm9ybTsKICByZXR1cm4gY2VsbDsKfQoKLSAoQ2hhdFRhYmxlQ2VsbCAqKWdldENoYXRDZWxsRm9yVGFibGVWaWV3OihVSVRhYmxlVmlldyAqKXRhYmxlVmlldwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JJbmRleFBhdGg6KE5TSW5kZXhQYXRoICopaW5kZXhQYXRoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTooVFdNTWVzc2FnZSAqKW1lc3NhZ2UgewogIFVJVGFibGVWaWV3Q2VsbCAqY2VsbCA9IFtzZWxmLnRhYmxlVmlldwogICAgZGVxdWV1ZVJldXNhYmxlQ2VsbFdpdGhJZGVudGlmaWVyOlRXQ0NoYXRDZWxsSWRlbnRpZmllciBmb3JJbmRleFBhdGg6aW5kZXhQYXRoXTsKCiAgQ2hhdFRhYmxlQ2VsbCAqY2hhdENlbGwgPSAoQ2hhdFRhYmxlQ2VsbCAqKWNlbGw7CiAgY2hhdENlbGwudXNlciA9IG1lc3NhZ2UuYXV0aG9yOwogIGNoYXRDZWxsLmRhdGUgPSBbW1tEYXRlVG9kYXlGb3JtYXR0ZXIgYWxsb2NdIGluaXRdCiAgICBzdHJpbmdGcm9tRGF0ZTpbTlNEYXRlIGRhdGVXaXRoSVNPODYwMVN0cmluZzptZXNzYWdlLnRpbWVzdGFtcF1dOwoKICBjaGF0Q2VsbC5tZXNzYWdlID0gbWVzc2FnZS5ib2R5OwogIAogIHJldHVybiBjaGF0Q2VsbDsKfQoKLSAoVUlUYWJsZVZpZXdDZWxsICopZ2V0U3RhdHVDZWxsRm9yVGFibGVWaWV3OihVSVRhYmxlVmlldyAqKXRhYmxlVmlldwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JJbmRleFBhdGg6KE5TSW5kZXhQYXRoICopaW5kZXhQYXRoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTooU3RhdHVzRW50cnkgKiltZXNzYWdlIHsKICBVSVRhYmxlVmlld0NlbGwgKmNlbGwgPSBbc2VsZi50YWJsZVZpZXcKICAgIGRlcXVldWVSZXVzYWJsZUNlbGxXaXRoSWRlbnRpZmllcjpUV0NDaGF0U3RhdHVzQ2VsbElkZW50aWZpZXIgZm9ySW5kZXhQYXRoOmluZGV4UGF0aF07CiAgCiAgVUlMYWJlbCAqbGFiZWwgPSBbY2VsbCB2aWV3V2l0aFRhZzpUV0NMYWJlbFRhZ107CiAgbGFiZWwudGV4dCA9IFtOU1N0cmluZyBzdHJpbmdXaXRoRm9ybWF0OkAiVXNlciAlQCBoYXMgJUAiLAogICAgIG1lc3NhZ2UubWVtYmVyLmlkZW50aXR5LCAobWVzc2FnZS5zdGF0dXMgPT0gVFdDTWVtYmVyU3RhdHVzSm9pbmVkKSA/IEAiam9pbmVkIiA6IEAibGVmdCJdOwogIAogIHJldHVybiBjZWxsOwp9CgotICh2b2lkKWRpZFByZXNzUmlnaHRCdXR0b246KGlkKXNlbmRlciB7CiAgW3NlbGYudGV4dFZpZXcgcmVmcmVzaEZpcnN0UmVzcG9uZGVyXTsKICBbc2VsZiBzZW5kTWVzc2FnZTogW3NlbGYudGV4dFZpZXcudGV4dCBjb3B5XV07CiAgW3N1cGVyIGRpZFByZXNzUmlnaHRCdXR0b246c2VuZGVyXTsKfQoKI3ByYWdtYSBtYXJrIENoYXQgU2VydmljZQotICh2b2lkKXNlbmRNZXNzYWdlOiAoTlNTdHJpbmcgKilpbnB1dE1lc3NhZ2UgewogIFRXTU1lc3NhZ2UgKm1lc3NhZ2UgPSBbc2VsZi5jaGFubmVsLm1lc3NhZ2VzIGNyZWF0ZU1lc3NhZ2VXaXRoQm9keTppbnB1dE1lc3NhZ2VdOwogIFtzZWxmLmNoYW5uZWwubWVzc2FnZXMgc2VuZE1lc3NhZ2U6bWVzc2FnZSBjb21wbGV0aW9uOm5pbF07Cn0KCgoKLSAodm9pZClhZGRNZXNzYWdlczooTlNBcnJheSAqKW1lc3NhZ2VzIHsKICBbc2VsZi5tZXNzYWdlcyBhZGRPYmplY3RzRnJvbUFycmF5Om1lc3NhZ2VzXTsKICBbc2VsZiBzb3J0TWVzc2FnZXNdOwogIGRpc3BhdGNoX2FzeW5jKGRpc3BhdGNoX2dldF9tYWluX3F1ZXVlKCksIF57CiAgICBbc2VsZi50YWJsZVZpZXcgcmVsb2FkRGF0YV07CiAgICBpZiAoc2VsZi5tZXNzYWdlcy5jb3VudCA+IDApIHsKICAgICAgW3NlbGYgc2Nyb2xsVG9Cb3R0b21NZXNzYWdlXTsKICAgIH0KICB9KTsKfQoKCi0gKHZvaWQpc29ydE1lc3NhZ2VzIHsKICBbc2VsZi5tZXNzYWdlcyBzb3J0VXNpbmdEZXNjcmlwdG9yczpAW1tbTlNTb3J0RGVzY3JpcHRvciBhbGxvY10KICAgIGluaXRXaXRoS2V5OkAidGltZXN0YW1wIiBhc2NlbmRpbmc6Tk9dXV07Cn0KCi0gKHZvaWQpc2Nyb2xsVG9Cb3R0b21NZXNzYWdlIHsKICBpZiAoc2VsZi5tZXNzYWdlcy5jb3VudCA9PSAwKSB7CiAgICByZXR1cm47CiAgfQogIAogIE5TSW5kZXhQYXRoICpib3R0b21NZXNzYWdlSW5kZXggPSBbTlNJbmRleFBhdGggaW5kZXhQYXRoRm9yUm93OjAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluU2VjdGlvbjowXTsKICBbc2VsZi50YWJsZVZpZXcgc2Nyb2xsVG9Sb3dBdEluZGV4UGF0aDpib3R0b21NZXNzYWdlSW5kZXgKICAgIGF0U2Nyb2xsUG9zaXRpb246VUlUYWJsZVZpZXdTY3JvbGxQb3NpdGlvbkJvdHRvbSBhbmltYXRlZDpOT107Cn0KCi0gKHZvaWQpbG9hZE1lc3NhZ2VzIHsKICBbc2VsZi5tZXNzYWdlcyByZW1vdmVBbGxPYmplY3RzXTsKICBbc2VsZiBhZGRNZXNzYWdlczpzZWxmLmNoYW5uZWwubWVzc2FnZXMuYWxsT2JqZWN0c107Cn0KCi0gKHZvaWQpbGVhdmVDaGFubmVsIHsKICBbc2VsZi5jaGFubmVsIGxlYXZlV2l0aENvbXBsZXRpb246XihUV01SZXN1bHQgcmVzdWx0KSB7CiAgICBpZiAocmVzdWx0ID09IFRXTVJlc3VsdFN1Y2Nlc3MpIHsKICAgICAgWyhNZW51Vmlld0NvbnRyb2xsZXIgKilzZWxmLnJldmVhbFZpZXdDb250cm9sbGVyLnJlYXJWaWV3Q29udHJvbGxlciBkZXNlbGVjdFNlbGVjdGVkQ2hhbm5lbF07CiAgICAgIFtzZWxmLnJldmVhbFZpZXdDb250cm9sbGVyLnJlYXJWaWV3Q29udHJvbGxlcgogICAgICAgIHBlcmZvcm1TZWd1ZVdpdGhJZGVudGlmaWVyOlRXQ09wZW5HZW5lcmFsQ2hhbm5lbFNlZ3VlIHNlbmRlcjpuaWxdOwogICAgfQogIH1dOwp9CgojcHJhZ21hIG1hcmsgLSBUTU1lc3NhZ2VEZWxlZ2F0ZQoKLSAodm9pZClpcE1lc3NhZ2luZ0NsaWVudDooVHdpbGlvSVBNZXNzYWdpbmdDbGllbnQgKiljbGllbnQKICAgICAgICAgICAgICAgICAgY2hhbm5lbDooVFdNQ2hhbm5lbCAqKWNoYW5uZWwKICAgICAgICAgICAgIG1lc3NhZ2VBZGRlZDooVFdNTWVzc2FnZSAqKW1lc3NhZ2UgewogIGlmICghW3NlbGYubWVzc2FnZXMgY29udGFpbnNPYmplY3Q6bWVzc2FnZV0pIHsKICAgIFtzZWxmIGFkZE1lc3NhZ2VzOkBbbWVzc2FnZV1dOwogIH0KfQoKLSAodm9pZClpcE1lc3NhZ2luZ0NsaWVudDooVHdpbGlvSVBNZXNzYWdpbmdDbGllbnQgKiljbGllbnQKICAgICAgICAgICBjaGFubmVsRGVsZXRlZDooVFdNQ2hhbm5lbCAqKWNoYW5uZWwgewogIGRpc3BhdGNoX2FzeW5jKGRpc3BhdGNoX2dldF9tYWluX3F1ZXVlKCksIF57CiAgICBpZiAoY2hhbm5lbCA9PSBzZWxmLmNoYW5uZWwpIHsKICAgICAgW3NlbGYucmV2ZWFsVmlld0NvbnRyb2xsZXIucmVhclZpZXdDb250cm9sbGVyCiAgICAgICAgcGVyZm9ybVNlZ3VlV2l0aElkZW50aWZpZXI6VFdDT3BlbkdlbmVyYWxDaGFubmVsU2VndWUgc2VuZGVyOm5pbF07CiAgICB9CiAgfSk7Cn0KCi0gKHZvaWQpaXBNZXNzYWdpbmdDbGllbnQ6KFR3aWxpb0lQTWVzc2FnaW5nQ2xpZW50ICopY2xpZW50CiAgICAgICAgICAgICAgICAgIGNoYW5uZWw6KFRXTUNoYW5uZWwgKiljaGFubmVsCiAgICAgICAgICAgICBtZW1iZXJKb2luZWQ6KFRXTU1lbWJlciAqKW1lbWJlciB7CiAgW3NlbGYgYWRkTWVzc2FnZXM6QFtbU3RhdHVzRW50cnkgc3RhdHVzRW50cnlXaXRoTWVtYmVyOm1lbWJlciBzdGF0dXM6VFdDTWVtYmVyU3RhdHVzSm9pbmVkXV1dOwp9CgotICh2b2lkKWlwTWVzc2FnaW5nQ2xpZW50OihUd2lsaW9JUE1lc3NhZ2luZ0NsaWVudCAqKWNsaWVudAogICAgICAgICAgICAgICAgICBjaGFubmVsOihUV01DaGFubmVsICopY2hhbm5lbAogICAgICAgICAgICAgICBtZW1iZXJMZWZ0OihUV01NZW1iZXIgKiltZW1iZXIgewogIFtzZWxmIGFkZE1lc3NhZ2VzOkBbW1N0YXR1c0VudHJ5IHN0YXR1c0VudHJ5V2l0aE1lbWJlcjptZW1iZXIgc3RhdHVzOlRXQ01lbWJlclN0YXR1c0xlZnRdXV07Cn0KCi0gKHZvaWQpaXBNZXNzYWdpbmdDbGllbnQ6KFR3aWxpb0lQTWVzc2FnaW5nQ2xpZW50ICopY2xpZW50CiAgICAgY2hhbm5lbEhpc3RvcnlMb2FkZWQ6KFRXTUNoYW5uZWwgKiljaGFubmVsIHsKICBbc2VsZiBsb2FkTWVzc2FnZXNdOwogIGRpc3BhdGNoX2FzeW5jKGRpc3BhdGNoX2dldF9tYWluX3F1ZXVlKCksIF57CiAgICBbc2VsZi50YWJsZVZpZXcgcmVsb2FkRGF0YV07CiAgfSk7Cn0KCgojcHJhZ21hIG1hcmsgLSBBY3Rpb25zCgotIChJQkFjdGlvbilhY3Rpb25CdXR0b25Ub3VjaGVkOihVSUJhckJ1dHRvbkl0ZW0gKilzZW5kZXIgewogIFtzZWxmIGxlYXZlQ2hhbm5lbF07Cn0KCi0gKElCQWN0aW9uKXJldmVhbEJ1dHRvblRvdWNoZWQ6KFVJQmFyQnV0dG9uSXRlbSAqKXNlbmRlciB7CiAgW3NlbGYucmV2ZWFsVmlld0NvbnRyb2xsZXIgcmV2ZWFsVG9nZ2xlQW5pbWF0ZWQ6WUVTXTsKfQoKQGVuZAo=</textarea>
<textarea class="saurus-file" data-file="twiliochat/MenuViewController.m" data-mode="objectivec">I2ltcG9ydCA8U1dSZXZlYWxWaWV3Q29udHJvbGxlci9TV1JldmVhbFZpZXdDb250cm9sbGVyLmg+CiNpbXBvcnQgIk1lbnVWaWV3Q29udHJvbGxlci5oIgojaW1wb3J0ICJNZW51VGFibGVDZWxsLmgiCiNpbXBvcnQgIklucHV0RGlhbG9nQ29udHJvbGxlci5oIgojaW1wb3J0ICJNYWluQ2hhdFZpZXdDb250cm9sbGVyLmgiCiNpbXBvcnQgIklQTWVzc2FnaW5nTWFuYWdlci5oIgojaW1wb3J0ICJBbGVydERpYWxvZ0NvbnRyb2xsZXIuaCIKI2ltcG9ydCAiQ2hhbm5lbE1hbmFnZXIuaCIKI2ltcG9ydCAiU2Vzc2lvbk1hbmFnZXIuaCIKCkBpbnRlcmZhY2UgTWVudVZpZXdDb250cm9sbGVyICgpCkBwcm9wZXJ0eSAod2Vhaywgbm9uYXRvbWljKSBJQk91dGxldCBVSUxhYmVsICp1c2VybmFtZUxhYmVsOwpAcHJvcGVydHkgKHdlYWssIG5vbmF0b21pYykgSUJPdXRsZXQgVUlUYWJsZVZpZXcgKnRhYmxlVmlldzsKQHByb3BlcnR5IChzdHJvbmcsIG5vbmF0b21pYykgVUlSZWZyZXNoQ29udHJvbCAqcmVmcmVzaENvbnRyb2w7CgpAcHJvcGVydHkgKHN0cm9uZywgbm9uYXRvbWljKSBUV01DaGFubmVsICpyZWNlbnRseUFkZGVkQ2hhbm5lbDsKQGVuZAoKc3RhdGljIE5TU3RyaW5nICogY29uc3QgVFdDT3BlbkNoYW5uZWxTZWd1ZSA9IEAiT3BlbkNoYXQiOwpzdGF0aWMgTlNJbnRlZ2VyIGNvbnN0IFRXQ1JlZnJlc2hDb250cm9sWE9mZnNldCA9IDEyMDsKCgpAaW1wbGVtZW50YXRpb24gTWVudVZpZXdDb250cm9sbGVyCgojcHJhZ21hIG1hcmsgSW5pdGlhbGl6YXRpb24KCi0gKHZvaWQpdmlld0RpZExvYWQgewogIFtzdXBlciB2aWV3RGlkTG9hZF07CiAgCiAgVUlJbWFnZVZpZXcgKmJnSW1hZ2UgPSBbW1VJSW1hZ2VWaWV3IGFsbG9jXSBpbml0V2l0aEltYWdlOltVSUltYWdlIGltYWdlTmFtZWQ6QCJob21lLWJnIl1dOwogIGJnSW1hZ2UuZnJhbWUgPSBzZWxmLnRhYmxlVmlldy5mcmFtZTsKICBzZWxmLnRhYmxlVmlldy5iYWNrZ3JvdW5kVmlldyA9IGJnSW1hZ2U7CiAgCiAgc2VsZi51c2VybmFtZUxhYmVsLnRleHQgPSBbU2Vzc2lvbk1hbmFnZXIgZ2V0VXNlcm5hbWVdOwogIAogIHNlbGYucmVmcmVzaENvbnRyb2wgPSBbW1VJUmVmcmVzaENvbnRyb2wgYWxsb2NdIGluaXRdOwogIFtzZWxmLnRhYmxlVmlldyBhZGRTdWJ2aWV3OnNlbGYucmVmcmVzaENvbnRyb2xdOwogIFtzZWxmLnJlZnJlc2hDb250cm9sIGFkZFRhcmdldDpzZWxmCiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOkBzZWxlY3RvcihyZWZyZXNoQ2hhbm5lbHMpCiAgICAgICAgICAgICAgICBmb3JDb250cm9sRXZlbnRzOlVJQ29udHJvbEV2ZW50VmFsdWVDaGFuZ2VkXTsKICBzZWxmLnJlZnJlc2hDb250cm9sLnRpbnRDb2xvciA9IFtVSUNvbG9yIHdoaXRlQ29sb3JdOwogIAogIENHUmVjdCBmcmFtZSA9IHNlbGYucmVmcmVzaENvbnRyb2wuZnJhbWU7CiAgZnJhbWUub3JpZ2luLnggPSBDR1JlY3RHZXRNaW5YKGZyYW1lKSAtIFRXQ1JlZnJlc2hDb250cm9sWE9mZnNldDsKICBzZWxmLnJlZnJlc2hDb250cm9sLmZyYW1lID0gZnJhbWU7CiAgCiAgW0NoYW5uZWxNYW5hZ2VyIHNoYXJlZE1hbmFnZXJdLmRlbGVnYXRlID0gc2VsZjsKICBbc2VsZiBwb3B1bGF0ZUNoYW5uZWxzXTsKfQoKI3ByYWdtYSBtYXJrIC0gVGFibGUgdmlldyBkYXRhIHNvdXJjZQoKLSAoTlNJbnRlZ2VyKXRhYmxlVmlldzooVUlUYWJsZVZpZXcgKil0YWJsZVZpZXcgbnVtYmVyT2ZSb3dzSW5TZWN0aW9uOihOU0ludGVnZXIpc2VjdGlvbiB7CiAgaWYgKCFbQ2hhbm5lbE1hbmFnZXIgc2hhcmVkTWFuYWdlcl0uY2hhbm5lbHMpIHsKICAgIHJldHVybiAxOwogIH0KICAKICByZXR1cm4gW0NoYW5uZWxNYW5hZ2VyIHNoYXJlZE1hbmFnZXJdLmNoYW5uZWxzLmNvdW50Owp9CgotIChVSVRhYmxlVmlld0NlbGwgKil0YWJsZVZpZXc6KFVJVGFibGVWaWV3ICopdGFibGVWaWV3IGNlbGxGb3JSb3dBdEluZGV4UGF0aDooTlNJbmRleFBhdGggKilpbmRleFBhdGggewogIFVJVGFibGVWaWV3Q2VsbCAqY2VsbCA9IG5pbDsKICAKICBpZiAoIVtDaGFubmVsTWFuYWdlciBzaGFyZWRNYW5hZ2VyXS5jaGFubmVscykgewogICAgY2VsbCA9IFtzZWxmIGxvYWRpbmdDZWxsRm9yVGFibGVWaWV3OnRhYmxlVmlld107CiAgfQogIGVsc2UgewogICAgY2VsbCA9IFtzZWxmIGNoYW5uZWxDZWxsRm9yVGFibGVWaWV3OnRhYmxlVmlldyBhdEluZGV4UGF0aDppbmRleFBhdGhdOwogIH0KICBbY2VsbCBsYXlvdXRJZk5lZWRlZF07CiAgCiAgcmV0dXJuIGNlbGw7Cn0KCiNwcmFnbWEgbWFyayAtIFRhYmxlIHZpZXcgZGVsZWdhdGUKCi0gKEJPT0wpdGFibGVWaWV3OihVSVRhYmxlVmlldyAqKXRhYmxlVmlldyBjYW5FZGl0Um93QXRJbmRleFBhdGg6KE5TSW5kZXhQYXRoICopaW5kZXhQYXRoIHsKICBUV01DaGFubmVsICpjaGFubmVsID0gW1tDaGFubmVsTWFuYWdlciBzaGFyZWRNYW5hZ2VyXS5jaGFubmVscyBvYmplY3RBdEluZGV4OmluZGV4UGF0aC5yb3ddOwogIHJldHVybiBjaGFubmVsICE9IFtDaGFubmVsTWFuYWdlciBzaGFyZWRNYW5hZ2VyXS5nZW5lcmFsQ2hhbm5lbDsKfQoKCi0gKHZvaWQpdGFibGVWaWV3OihVSVRhYmxlVmlldyAqKXRhYmxlVmlldyBjb21taXRFZGl0aW5nU3R5bGU6KFVJVGFibGVWaWV3Q2VsbEVkaXRpbmdTdHlsZSllZGl0aW5nU3R5bGUgZm9yUm93QXRJbmRleFBhdGg6KE5TSW5kZXhQYXRoICopaW5kZXhQYXRoIHsKICBpZiAoZWRpdGluZ1N0eWxlID09IFVJVGFibGVWaWV3Q2VsbEVkaXRpbmdTdHlsZURlbGV0ZSkgewogICAgVFdNQ2hhbm5lbCAqY2hhbm5lbCA9IFtbQ2hhbm5lbE1hbmFnZXIgc2hhcmVkTWFuYWdlcl0uY2hhbm5lbHMgb2JqZWN0QXRJbmRleDppbmRleFBhdGgucm93XTsKICAgIFtjaGFubmVsIGRlc3Ryb3lXaXRoQ29tcGxldGlvbjpeKFRXTVJlc3VsdCByZXN1bHQpIHsKICAgICAgaWYgKHJlc3VsdCA9PSBUV01SZXN1bHRTdWNjZXNzKSB7CiAgICAgICAgW3RhYmxlVmlldyByZWxvYWREYXRhXTsKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICBbQWxlcnREaWFsb2dDb250cm9sbGVyIHNob3dBbGVydFdpdGhNZXNzYWdlOkAiWW91IGNhbiBub3QgZGVsZXRlIHRoaXMgY2hhbm5lbCIgdGl0bGU6bmlsIHByZXNlbnRlcjpzZWxmXTsKICAgICAgfQogICAgfV07CiAgfQp9CgotICh2b2lkKXRhYmxlVmlldzooVUlUYWJsZVZpZXcgKil0YWJsZVZpZXcgZGlkU2VsZWN0Um93QXRJbmRleFBhdGg6KE5TSW5kZXhQYXRoICopaW5kZXhQYXRoIHsKICBbc2VsZiBwZXJmb3JtU2VndWVXaXRoSWRlbnRpZmllcjpUV0NPcGVuQ2hhbm5lbFNlZ3VlIHNlbmRlcjppbmRleFBhdGhdOwp9CgojcHJhZ21hIG1hcmsgLSBJbnRlcm5hbCBtZXRob2RzCgotIChVSVRhYmxlVmlld0NlbGwgKilsb2FkaW5nQ2VsbEZvclRhYmxlVmlldzooVUlUYWJsZVZpZXcgKil0YWJsZVZpZXcgewogIHJldHVybiBbdGFibGVWaWV3IGRlcXVldWVSZXVzYWJsZUNlbGxXaXRoSWRlbnRpZmllcjpAImxvYWRpbmdDZWxsIl07Cn0KCi0gKFVJVGFibGVWaWV3Q2VsbCAqKWNoYW5uZWxDZWxsRm9yVGFibGVWaWV3OihVSVRhYmxlVmlldyAqKXRhYmxlVmlldyBhdEluZGV4UGF0aDooTlNJbmRleFBhdGggKilpbmRleFBhdGggewogIE1lbnVUYWJsZUNlbGwgKm1lbnVDZWxsID0gKE1lbnVUYWJsZUNlbGwgKilbdGFibGVWaWV3IGRlcXVldWVSZXVzYWJsZUNlbGxXaXRoSWRlbnRpZmllcjpAImNoYW5uZWxDZWxsIiBmb3JJbmRleFBhdGg6aW5kZXhQYXRoXTsKICAKICBUV01DaGFubmVsICpjaGFubmVsID0gW1tDaGFubmVsTWFuYWdlciBzaGFyZWRNYW5hZ2VyXS5jaGFubmVscyBvYmplY3RBdEluZGV4OmluZGV4UGF0aC5yb3ddOwogIE5TU3RyaW5nICpmcmllbmRseU5hbWUgPSBjaGFubmVsLmZyaWVuZGx5TmFtZTsKICBpZiAoY2hhbm5lbC5mcmllbmRseU5hbWUubGVuZ3RoID09IDApIHsKICAgIGZyaWVuZGx5TmFtZSA9IEAiKG5vIGZyaWVuZGx5IG5hbWUpIjsKICB9CiAgbWVudUNlbGwuY2hhbm5lbE5hbWUgPSBmcmllbmRseU5hbWU7CiAgCiAgcmV0dXJuIG1lbnVDZWxsOwp9CgotICh2b2lkKXJlZnJlc2hDaGFubmVscyB7CiAgW3NlbGYucmVmcmVzaENvbnRyb2wgYmVnaW5SZWZyZXNoaW5nXTsKICBbc2VsZiBwb3B1bGF0ZUNoYW5uZWxzXTsKfQoKLSAodm9pZClwb3B1bGF0ZUNoYW5uZWxzIHsKICBbW0NoYW5uZWxNYW5hZ2VyIHNoYXJlZE1hbmFnZXJdIHBvcHVsYXRlQ2hhbm5lbHNXaXRoQ29tcGxldGlvbjpeKEJPT0wgc3VjY2VlZGVkKSB7CiAgICBpZiAoIXN1Y2NlZWRlZCkgewogICAgICBbQWxlcnREaWFsb2dDb250cm9sbGVyIHNob3dBbGVydFdpdGhNZXNzYWdlOkAiRmFpbGVkIHRvIGxvYWQgY2hhbm5lbHMiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6QCJJUCBNZXNzYWdpbmcgRGVtbyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlbnRlcjpzZWxmXTsKICAgIH0KICAgIFtzZWxmLnRhYmxlVmlldyByZWxvYWREYXRhXTsKICAgIFtzZWxmLnJlZnJlc2hDb250cm9sIGVuZFJlZnJlc2hpbmddOwogIH1dOwp9CgotICh2b2lkKWRlc2VsZWN0U2VsZWN0ZWRDaGFubmVsIHsKICBOU0luZGV4UGF0aCAqc2VsZWN0ZWRSb3cgPSBbc2VsZi50YWJsZVZpZXcgaW5kZXhQYXRoRm9yU2VsZWN0ZWRSb3ddOwoKICBpZiAoc2VsZWN0ZWRSb3cpIHsKICAgIFtzZWxmLnRhYmxlVmlldyBkZXNlbGVjdFJvd0F0SW5kZXhQYXRoOnNlbGVjdGVkUm93IGFuaW1hdGVkOllFU107CiAgfQp9CgojcHJhZ21hIG1hcmsgLSBDaGFubmVsCgotICh2b2lkKWNyZWF0ZU5ld0NoYW5uZWxEaWFsb2cgewogIFtJbnB1dERpYWxvZ0NvbnRyb2xsZXIgc2hvd1dpdGhUaXRsZTpAIk5ldyBDaGFubmVsIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTpAIkVudGVyIGEgbmFtZSBmb3IgdGhpcyBjaGFubmVsLiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6QCJOYW1lIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlbnRlcjpzZWxmIGhhbmRsZXI6XihOU1N0cmluZyAqdGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1tDaGFubmVsTWFuYWdlciBzaGFyZWRNYW5hZ2VyXSBjcmVhdGVDaGFubmVsV2l0aE5hbWU6dGV4dCBjb21wbGV0aW9uOm5pbF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV07Cn0KCiNwcmFnbWEgbWFyayAtIFR3aWxpb0lQTWVzc2FnaW5nQ2xpZW50RGVsZWdhdGUgZGVsZWdhdGUKCi0gKHZvaWQpaXBNZXNzYWdpbmdDbGllbnQ6KFR3aWxpb0lQTWVzc2FnaW5nQ2xpZW50ICopY2xpZW50IGNoYW5uZWxBZGRlZDooVFdNQ2hhbm5lbCAqKWNoYW5uZWwgewogIFtzZWxmLnRhYmxlVmlldyByZWxvYWREYXRhXTsKfQoKLSAodm9pZClpcE1lc3NhZ2luZ0NsaWVudDooVHdpbGlvSVBNZXNzYWdpbmdDbGllbnQgKiljbGllbnQgY2hhbm5lbENoYW5nZWQ6KFRXTUNoYW5uZWwgKiljaGFubmVsIHsKICBbc2VsZi50YWJsZVZpZXcgcmVsb2FkRGF0YV07Cn0KCi0gKHZvaWQpaXBNZXNzYWdpbmdDbGllbnQ6KFR3aWxpb0lQTWVzc2FnaW5nQ2xpZW50ICopY2xpZW50IGNoYW5uZWxEZWxldGVkOihUV01DaGFubmVsICopY2hhbm5lbCB7CiAgW3NlbGYudGFibGVWaWV3IHJlbG9hZERhdGFdOwp9CgojcHJhZ21hIG1hcmsgLSBMb2dvdXQKCi0gKHZvaWQpcHJvbXRwTG9nb3V0IHsKICBVSUFsZXJ0Q29udHJvbGxlciAqYWxlcnQgPSBbVUlBbGVydENvbnRyb2xsZXIgYWxlcnRDb250cm9sbGVyV2l0aFRpdGxlOm5pbAogICAgbWVzc2FnZTpAIllvdSBhcmUgYWJvdXQgdG8gTG9nb3V0LiIgcHJlZmVycmVkU3R5bGU6VUlBbGVydENvbnRyb2xsZXJTdHlsZUFsZXJ0XTsKICAKICBVSUFsZXJ0QWN0aW9uICpjYW5jZWxBY3Rpb24gPSBbVUlBbGVydEFjdGlvbiBhY3Rpb25XaXRoVGl0bGU6QCJDYW5jZWwiCiAgICBzdHlsZTpVSUFsZXJ0QWN0aW9uU3R5bGVDYW5jZWwgaGFuZGxlcjpuaWxdOwoKICBVSUFsZXJ0QWN0aW9uICpjb25maXJtQWN0aW9uID0gW1VJQWxlcnRBY3Rpb24gYWN0aW9uV2l0aFRpdGxlOkAiQ29uZmlybSIKICAgIHN0eWxlOlVJQWxlcnRBY3Rpb25TdHlsZURlZmF1bHQKICAgIGhhbmRsZXI6XihVSUFsZXJ0QWN0aW9uICphY3Rpb24pIHsKICAgICAgW3NlbGYgbG9nT3V0XTsKICAgIH1dOwoKICBbYWxlcnQgYWRkQWN0aW9uOmNhbmNlbEFjdGlvbl07CiAgW2FsZXJ0IGFkZEFjdGlvbjpjb25maXJtQWN0aW9uXTsKICBbc2VsZiBwcmVzZW50Vmlld0NvbnRyb2xsZXI6YWxlcnQgYW5pbWF0ZWQ6WUVTIGNvbXBsZXRpb246bmlsXTsKfQoKLSAodm9pZClsb2dPdXQgewogIFtbSVBNZXNzYWdpbmdNYW5hZ2VyIHNoYXJlZE1hbmFnZXJdIGxvZ291dF07CiAgW1tJUE1lc3NhZ2luZ01hbmFnZXIgc2hhcmVkTWFuYWdlcl0gcHJlc2VudFJvb3RWaWV3Q29udHJvbGxlcl07Cn0KCiNwcmFnbWEgbWFyayBBY3Rpb25zCgotIChJQkFjdGlvbilsb2dvdXRCdXR0b25Ub3VjaGVkOihVSUJ1dHRvbiAqKXNlbmRlciB7CiAgW3NlbGYgcHJvbXRwTG9nb3V0XTsKfQoKLSAoSUJBY3Rpb24pbmV3Q2hhbm5lbEJ1dHRvblRvdWNoZWQ6KFVJQnV0dG9uICopc2VuZGVyIHsKICBbc2VsZiBjcmVhdGVOZXdDaGFubmVsRGlhbG9nXTsKfQoKI3ByYWdtYSBtYXJrIC0gTmF2aWdhdGlvbgoKLSAodm9pZClwcmVwYXJlRm9yU2VndWU6KFVJU3Rvcnlib2FyZFNlZ3VlICopc2VndWUgc2VuZGVyOihpZClzZW5kZXIgewogIGlmIChbc2VndWUuaWRlbnRpZmllciBpc0VxdWFsVG9TdHJpbmc6VFdDT3BlbkNoYW5uZWxTZWd1ZV0pIHsKICAgIE5TSW5kZXhQYXRoICppbmRleFBhdGggPSAoTlNJbmRleFBhdGggKilzZW5kZXI7CiAgICAKICAgIFRXTUNoYW5uZWwgKmNoYW5uZWwgPSBbW0NoYW5uZWxNYW5hZ2VyIHNoYXJlZE1hbmFnZXJdLmNoYW5uZWxzIG9iamVjdEF0SW5kZXg6aW5kZXhQYXRoLnJvd107CiAgICBVSU5hdmlnYXRpb25Db250cm9sbGVyICpuYXZpZ2F0aW9uQ29udHJvbGxlciA9IFtzZWd1ZSBkZXN0aW5hdGlvblZpZXdDb250cm9sbGVyXTsKICAgIE1haW5DaGF0Vmlld0NvbnRyb2xsZXIgKmNoYXRWaWV3Q29udHJvbGxlciA9IChNYWluQ2hhdFZpZXdDb250cm9sbGVyICopW25hdmlnYXRpb25Db250cm9sbGVyIHZpc2libGVWaWV3Q29udHJvbGxlcl07CiAgICBjaGF0Vmlld0NvbnRyb2xsZXIuY2hhbm5lbCA9IGNoYW5uZWw7CiAgfQp9CgojcHJhZ21hIG1hcmsgU3R5bGUKCi0gKFVJU3RhdHVzQmFyU3R5bGUpcHJlZmVycmVkU3RhdHVzQmFyU3R5bGUgewogIHJldHVybiBVSVN0YXR1c0JhclN0eWxlTGlnaHRDb250ZW50Owp9CgoKQGVuZAo=</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><a href="https://github.com/TwilioDevEd/twiliochat-objc" target="_blank" class="explorer-get-code"> <i class="fa fa-lg fa-github-square"> </i>View Code on GitHub</a></div></div></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="viewsaurus.js"></script></body></html>